<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>K9 Harmony | 愛犬の性格診断</title>
  
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-ES72ND3BPP"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag(){dataLayer.push(arguments);}
    gtag('js', new Date());
    gtag('config', 'G-ES72ND3BPP');
  </script>

  <script src="https://static.line-scdn.net/liff/edge/2/sdk.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  
  <link href="https://fonts.googleapis.com/css2?family=Noto+Serif+JP:wght@400;700&family=Zen+Kurenaido&display=swap" rel="stylesheet">

  <link rel="stylesheet" href="css/diagnosis.css"> </head>
<body>
  <div id="logOverlay">Initializing...</div>
  <div id="washiBg"></div>

  <div class="container">
    <header class="header reveal-item" id="reveal-1">
        <img src="https://raw.githubusercontent.com/k9harmony-h/training_report/main/K9_logoFull.png" alt="K9 Harmony" class="logo-main">
    </header>

    <main id="sectionWrap">
        <section class="page-section active" id="page-home">
            <div class="main-title-area reveal-item" id="reveal-2">
                <h1 class="main-title">愛犬の性格診断</h1>
                <span class="sub-title-badge">〈K9 Harmony ドッグトレーナー監修〉</span>
                <p class="description-text" style="text-align:center;">愛犬の行動から、潜在的な悩みと<br>最適な絆の深め方を可視化します。</p>
            </div>
            <div class="home-card reveal-item" id="reveal-3">
                <div class="input-group"><label>愛犬の名前</label><input type="text" id="dogName" placeholder="例：ポチ" maxlength="10"></div>
            </div>
            <div class="btn-container reveal-item" id="reveal-4">
                <button class="btn btn-ready" id="startBtn" disabled>準備中...</button>
                <p style="margin-top:25px;"><span id="openPrivacy" style="text-decoration:underline; font-size:0.75rem; cursor:pointer; color:var(--neutral-border);">個人情報保護方針</span></p>
            </div>
        </section>
        
        <section class="page-section" id="page-groupA"><div id="groupA-list"></div><div class="btn-container"><button class="btn" id="toGroupB" disabled style="width:75%;">次へ進む</button></div></section>
        <section class="page-section" id="page-groupB"><div id="groupB-list"></div><div style="display:flex; justify-content:space-between; align-items:center; width:85%; margin:40px auto 0;"><span id="backToA" style="cursor:pointer; font-size:0.8rem; color:var(--neutral-border); text-decoration:underline;">戻る</span><button class="btn" id="toGroupC" disabled style="width:75%;">次へ進む</button></div></section>
        <section class="page-section" id="page-groupC"><div id="groupC-list"></div><div style="display:flex; justify-content:space-between; align-items:center; width:85%; margin:40px auto 0;"><span id="backToB" style="cursor:pointer; font-size:0.8rem; color:var(--neutral-border); text-decoration:underline;">戻る</span><button class="btn" id="finishBtn" disabled style="width:75%;">結果を見る</button></div></section>

        <section class="page-section hidden" id="page-result">
            <img src="https://raw.githubusercontent.com/k9harmony-h/training_report/main/K9_logoFull.png" alt="K9 Harmony" class="result-logo">
            <div class="q-unit" style="text-align:center; opacity:1;">
                <h2 class="result-title-main">診断結果<br><span id="resultTypeTitle">---</span></h2>
                <div id="imgOutWrap" style="position:relative; margin:20px 0;">
                    <img id="generatedImageOutput" style="width:100%; border:1px solid var(--neutral-border);" alt="結果画像">
                    <div class="save-guide">※画像を長押しして保存</div>
                </div>
                <div class="share-group">
                    <button class="btn btn-ready btn-side" id="sendLiffBtn">LINEに送信</button>
                    <button class="btn btn-side" id="shareTargetBtn" style="background:#FFF; color:var(--progress-track);">シェア</button>
                </div>
                <p id="backToReload" style="margin-top:20px; cursor:pointer; font-size:0.85rem; color:var(--neutral-border); text-decoration:underline;">最初からやり直す</p>
            </div>
        </section>
    </main>
  </div>

  <footer class="site-footer reveal-item" id="reveal-5">
    <div class="footer-logo-container"><img src="https://raw.githubusercontent.com/k9harmony-h/training_report/main/K9_logoFull.png" class="footer-logo-img" alt="K9 Harmony"></div>
    <div class="footer-info"><p><strong>K9 Harmony</strong></p><p>東京都板橋区</p></div>
    <div style="margin-top:20px;">&copy; 2025 K9 Harmony</div>
  </footer>

  <div id="chekiWrapper">
    <div id="chekiTemplate">
        <div class="cheki-photo-area">
            <div class="cheki-result-badge" id="tmpl_type">タイプ名</div>
            <div style="font-size:100px; margin-top:60px;">🐾</div>
            <div class="cheki-hashtag" id="tmpl_hash">#K9Harmony #愛犬の性格診断</div>
        </div>
        <div class="cheki-name-area" id="tmpl_name">名前</div>
        <div class="cheki-description-area" id="tmpl_desc">説明文</div>
    </div>
  </div>

  <div class="modal" id="privacyModal">
    <div class="modal-content">
        <div id="policyContent" class="policy-body">
            <h3>個人情報保護方針</h3>
            <p><strong>1. 事業者情報</strong><br>K9 Harmony<br>代表: 根岸 亮太<br>住所: 〒174-0063 東京都板橋区前野町6-55-1</p>
            <p><strong>2. 個人情報の取得方法</strong><br>当社は、お客様が診断サービスを利用する際に、LINEのユーザーID、愛犬の名前等の情報を自動または手動で取得します。</p>
            <p><strong>3. 利用目的</strong><br>取得した情報は、診断結果の提供、サービス向上、およびお問い合わせ対応のために利用します。</p>
            <p><strong>4. 第三者提供</strong><br>法令に基づく場合を除き、同意なく第三者に個人情報を提供することはありません。</p>
            <p><strong>5. お問い合わせ</strong><br>個人情報の取り扱いに関するご質問は、公式LINEまでご連絡ください。</p>
        </div>
        <div id="closePrivacy" style="margin-top:20px; text-align:center; padding:15px; background:var(--mist-background); cursor:pointer;">閉じる</div>
    </div>
  </div>

  <script src="js/config.js"></script>
  <script src="js/diagnosis.js"></script>
</body>
</html>
