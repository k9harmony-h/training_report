<script>
async function loadDogImage(dogKey) {
  const endpoint = 'https://script.google.com/macros/s/AKfycbxfkyTD2EXfLA1FTkb3eR086b5la5Z_mXmPCpo5LfDgmJJlRQ2kBvN92p699RIpcXnJ/exec';
  const url = `${endpoint}?dogKey=${encodeURIComponent(dogKey)}`;
  try {
    const res = await fetch(url, { cache: 'no-store' });
    const data = await res.json();
    if (!data.ok) {
      document.getElementById('status').textContent = `Load failed: ${data.reason}`;
      return;
    }
    const img = document.getElementById('dogImage');
    img.src = data.url;
    document.getElementById('status').textContent = 'Loaded';
  } catch (err) {
    document.getElementById('status').textContent = `Fetch error: ${err.message}`;
  }
}
</script>
