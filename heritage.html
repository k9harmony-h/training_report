<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>K9 Heritage Prototype v3</title>
  <link href="https://fonts.googleapis.com/css2?family=Dancing+Script:wght@700&family=Shippori+Mincho&display=swap" rel="stylesheet">
  
  <style>
    /* --- 基本設定 --- */
    body {
      margin: 0;
      padding: 0;
      background-color: #000;
      font-family: 'Shippori Mincho', serif;
      overflow-x: hidden;
      color: #fff;
    }

    /* --- スクロール用の長さ (シーン追加でさらに延長: 550vh) --- */
    #scroll-track {
      height: 550vh;
      width: 100%;
      position: relative;
      z-index: 1;
    }

    /* --- 舞台装置 (Viewport) --- */
    #stage {
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      overflow: hidden; z-index: 2; pointer-events: none;
      /* 3D表現のための視点設定 */
      perspective: 1000px;
    }

    /* --- Scene 1: 表紙 --- */
    #cover-layer {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background: linear-gradient(135deg, #4a3b2a, #2e2315);
      display: flex; flex-direction: column; justify-content: center; align-items: center;
      transform-origin: left center; transition: transform 0.1s ease-out;
      z-index: 30; /* 最前面 */
    }
    
    .title-gold {
      font-family: 'Dancing Script', cursive; font-size: 3.5rem;
      background: linear-gradient(to bottom, #cfc09f 0%, #ffecb3 50%, #a38956 100%);
      -webkit-background-clip: text; -webkit-text-fill-color: transparent;
      text-shadow: 2px 2px 4px rgba(0,0,0,0.5); margin-bottom: 20px;
      opacity: 0; animation: floatIn 2s ease forwards;
    }

    .scroll-hint {
      position: absolute; bottom: 50px; font-size: 0.9rem; color: #ccc;
      opacity: 0; animation: floatIn 2s ease 1s forwards;
    }

    /* --- Scene 2: 背景 --- */
    #bg-paper {
      position: absolute; top: 0; left: 0; width: 100%; height: 100%;
      background-color: #f5f1e6; z-index: 1;
    }

    /* --- Scene 3: 街並み --- */
    #bg-city {
      position: absolute; bottom: 0; left: 0; width: 100%; height: 100%;
      z-index: 2; opacity: 0; pointer-events: none;
      display: flex; align-items: flex-end; overflow: hidden;
    }

    .city-block {
      background-color: #111; position: relative; box-shadow: 0 0 10px rgba(0,0,0,0.5);
      margin-right: 2px; border-top-left-radius: 2px; border-top-right-radius: 2px;
    }
    .city-block::after {
      content: ''; position: absolute; top: 10px; left: 20%; width: 60%; height: 20%;
      background: rgba(255, 255, 255, 0.1);
    }

    /* --- Scene 4 & 5: 切り絵 (Silhouette) --- */
    .silhouette {
      position: absolute; bottom: 0; z-index: 10;
      filter: drop-shadow(0 0 5px rgba(255,255,255,0.2));
    }
    .silhouette path { fill: #000; }

    /* 人間 */
    #human-silhouette {
      left: 10%; width: 25vh; height: auto;
      opacity: 0; transform: translateY(20px);
    }
    
    /* 犬 (追加シーン) */
    #dog-silhouette {
      left: 35%; /* 人間の横 */
      width: 15vh
